import{d as a,k as s,a7 as e,o as l,h as t,a as u,w as r,b as o,F as c,r as n,c as i,t as p,B as d,e as g,f as _,i as f,j as m}from"./index-5ec5936b.js";import{c as v}from"./home.22da9104.js";import{_ as x}from"./_plugin-vue_export-helper.1b428a4d.js";const h=x(a({__name:"XtxGuess",setup(a,{expose:x}){const h={page:1,pageSize:10},j=s([]),k=s(!1),w=async()=>{if(!0===k.value)return d({icon:"none",title:"没有更多数据~"});const a=await v(h);j.value.push(...a.result.items),h.page<a.result.pages?h.page++:k.value=!0};return e((()=>{w()})),x({resetData:()=>{h.page=1,j.value=[],k.value=!1},getMore:w}),(a,s)=>{const e=g,d=_,v=f,x=m;return l(),t(c,null,[u(d,{class:"caption"},{default:r((()=>[u(e,{class:"text"},{default:r((()=>[o("猜你喜欢")])),_:1})])),_:1}),u(d,{class:"guess"},{default:r((()=>[(l(!0),t(c,null,n(j.value,(a=>(l(),i(x,{class:"guess-item",key:a.id,url:`/pages/goods/goods?id=${a.id}`},{default:r((()=>[u(v,{class:"image",mode:"aspectFill",src:a.picture},null,8,["src"]),u(d,{class:"name"},{default:r((()=>[o(p(a.name),1)])),_:2},1024),u(d,{class:"price"},{default:r((()=>[u(e,{class:"small"},{default:r((()=>[o("¥")])),_:1}),u(e,null,{default:r((()=>[o(p(a.price),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["url"])))),128))])),_:1}),u(d,{class:"loading-text"},{default:r((()=>[o(p(k.value?"没有更多数据~":"正在加载..."),1)])),_:1})],64)}}}),[["__scopeId","data-v-571a0c52"]]),j=()=>{const a=s();return{guessRef:a,onScrolltolower:()=>{var s;null==(s=a.value)||s.getMore()}}};export{h as _,j as u};
